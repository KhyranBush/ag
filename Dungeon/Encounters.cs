using System;using System.Runtime.CompilerServices;
using System.Xml.XPath;namespace DungeonGame{    //This is where we have the combat encounters in the game. Their are a total of 4 combat encounters (2 on each floor)    //Different encounters offer different challenges and they each have their own set of health and damage they can deal.    class Encounters    {        public bool IsDefeated { get; set; }        static Random rand = new Random();                public static void FirstEncounter()        {            Console.WriteLine("\nIn far corner of the room the light effigies collide forming a spirit irradiating the same luminescent glow present on the walls");            Console.WriteLine("\nAs it animates, it notices your prescence and transforms in color from a blueish hue to a deep burning crimson");            Console.WriteLine("\nThe spirit speaks with its metallic and disturbing voice that slowly drones in and out\n Your death marks the end of another foolish ascension\n" +                                "prepare to meet the Loa once more impudent Ascender!");            Console.WriteLine("\nThis is your first trial young hero, Destroy or be Destroyed.. KIll or be Killed!");            Console.ReadKey();            Combat(false, "Ethereal Spirit Soldier: Rohin the first Ascender", 90, 10, 50, 200, false);        }        public static void SecondEncounter()        {            Console.WriteLine("\nAs you walk through the dungeon You stumble upon a heap of armor");            Console.WriteLine("\nIt assembles as it looks in your direction and mystic black mist flows from its helm ....");            Console.WriteLine("\nIt rusheds toward you filled with the intent to destroy, Now is the time for action, fight young hero!");            Console.ReadKey();            Combat(false, "Skeleton man 2.0", 7, 10, 11, 100, false);        }        public static void ThirdEncounter()        {            Console.WriteLine("\nLooks like you've stumbled upon another enemy...");            Console.WriteLine("\nThis is a brute known only for destruction and violence!");            Console.WriteLine("\nVictory is slim and death is almost certain as you fight the...");            Console.ReadKey();            Combat(false, "Rancor", 10, 10, 10, 200, false);        }        public static void FinalEncounter()        {            Console.WriteLine("\nLooks like you've stumbled upon another enemy...");            Console.WriteLine("\nAkuma has been looking for a worthy challenge.");            Console.WriteLine("\nDeath is almost certainly assured");            Console.ReadKey();            Combat(false, "Akuma, The Raging Demon!", 20, 30, 20, 200, false);	}        //Encounter tools        public static void Combat(bool random, string name, int power, int health, int exp, int coins, bool IsDefeated)        {            Hero hero = new Hero();            Notification notification = new Notification();            string n = "";            int p = 0;            int h = 0;            int xp = 0;            int currency = 0;            bool defeat = false;            if (random)            {             }            else            {                n = name;                p = power;                h = health;                xp = exp;                currency = coins;                 defeat = IsDefeated;            }            while (defeat == false)            {                Game game = new Game();                

                
                while (h > 0 && Program.currentPlayer.health > 0)                {                                       defeat = false;                    //This is where we were able to make the user input for what they can do in these encounters                    //The plaer has 4 options: Attack, Defend, Heal,and Run                    Console.WriteLine("" + n);                    Console.WriteLine("Power level" + p + " Health level: " + h);                    Console.WriteLine("=====================");                    Console.WriteLine("|     ⚔ Attack ⚔     |");                    Console.WriteLine("|     ✧ Defend ✧     |");                    Console.WriteLine("|      ♥ Heal ♥      |");                    Console.WriteLine("|      ? Run ?       |");                    Console.WriteLine("=====================");                    Console.WriteLine("Potions: " + Program.currentPlayer.potion + " Health: " + Program.currentPlayer.health);                    string input = Console.ReadLine();                    if (input.ToLower() == "A" || input.ToLower() == "Attack" || input.ToLower() == "a")                    {                        //Attack                        Console.WriteLine("Your enemy is struck by your awesome power! The " + n + " strikes you back.");                        int damage = p - Program.currentPlayer.armorVal;                        if (damage < 0)                            damage = 0;                        int attack = rand.Next(1, Program.currentPlayer.weaponVal) + rand.Next(1, 4);                        Console.WriteLine("You lose " + damage + "  health and you dealt " + attack + " damage");                        Program.currentPlayer.health -= damage;                        h -= attack;                    }                    else if (input.ToLower() == "D" || input.ToLower() == "Defend" || input.ToLower() == "d")                    {                        //Defend                        Console.WriteLine("You raise your guard and hope to live. " + n + " strikes you and deals less damage.");                        int damage = (p / 4) - Program.currentPlayer.armorVal;                        if (damage < 0)                        {                            damage = 0;                        }                        int attack = rand.Next(1, Program.currentPlayer.weaponVal) / 2;                        Console.WriteLine("You lose " + damage + "  health and you dealt " + attack + " damage");                        Program.currentPlayer.health -= damage;                        h -= attack;                    }                    else if (input.ToLower() == "H" || input.ToLower() == "Heal" || input.ToLower() == "h")                    {                        //Heal                        if (Program.currentPlayer.potion == 0)                        {                            Console.WriteLine("You reach for a healing rune but it seems you ran out.");                            int damage = p - Program.currentPlayer.armorVal;                            if (damage < 0)                            {                                damage = 0;                            }                            Console.WriteLine("You took " + damage + " damage from " + n);                        }                        else                        {                            int potVal = 5;                            Console.WriteLine("You pulled out a healing rune and crush it in your hand.. You gained " + potVal + "health");                            Program.currentPlayer.health += potVal;                            Console.WriteLine("While healing " + n + " attacks you, dealing.");                            int damage = (p / 2) - Program.currentPlayer.armorVal;                            if (damage < 0)                            {                                damage = 0;                            }                            Console.WriteLine("You took " + damage + " damage.");                        }                        Console.ReadKey();                    }//Run                    else if (input.ToLower() == "R" || input.ToLower() == "Run" || input.ToLower() == "r")                    {                        Console.WriteLine("Why would you think you can run away? You dont wanan run into the darkness.");                    }                    Console.ReadKey();                    if (h <= 0)                    {                        defeat = true;                    }                                    }
                while (Program.currentPlayer.health <= 0)
                {




                    Console.WriteLine("You have lost fair hero,\n\n your soul will forever be lost in ether,\n\n Maybe there will be a shot at ascension next lifetime...\n");

                    game.end();
                    

                    break;
                }                break;            }            while (defeat == true)                     {                        
                        
                        hero.coins = currency;                        hero.experience += xp;                        defeat = true;                        hero.coins += currency;                        if (hero.experience >= hero.expCap)                        {                            Player player = (Player)notification.Object;                            hero.level += 1;                            hero.expCap += 50;                            hero.coins += currency;
                    Console.WriteLine("\n\nYou have now leveled up, you are now level:" + hero.level + "\nyour maxiumum exp has went up to " + hero.expCap);                        }                        Console.WriteLine("\n\nYou have defeated " + n + " You recieved " + xp + " experience and " + currency + " Eliune" );                              break;                            }                                           }    }}